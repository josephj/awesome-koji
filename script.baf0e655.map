{"version":3,"sources":["src/script.js"],"names":["VERTICAL_TYPE","VERTICAL_ITEM_CLSNAME","USECASE_TYPE","USECASE_ITEM_CLSNAME","Item","text","value","type","VerticalItem","call","UseCaseItem","Filter","verticals","usecases","prototype","getSelectedTagIds","ids","map","vertical","join","getFilterItems","itemType","add","txt","val","newItem","push","remove","items","newItems","filter","i","createItemHtml","length","itemHtmls","$","each","index","elem","showList","empty","append","$filter","$widgetId","document","ready","initialize","on","e","target","hasClass","sideBarVerticalChange","sideBarUsecaseChange","attr","filterItemClick","data","elems","idx","checked","sideBarItemChange","parent","innerText","is"],"mappings":"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","file":"script.baf0e655.map","sourceRoot":"..","sourcesContent":["const VERTICAL_TYPE = \"Vertical\";\nconst VERTICAL_ITEM_CLSNAME = \"verticalItem\";\nconst USECASE_TYPE = \"UseCase\";\nconst USECASE_ITEM_CLSNAME = \"usecaseItem\";\n\n// Item class \nvar Item = function(text,value,type){\n  this.text = text;\n  this.value = value;\n  this.type = type;\n}\n\nvar VerticalItem = function(text,value) {\n  Item.call(this,text,value,VERTICAL_TYPE); \n}\nvar UseCaseItem = function(text,value){\n  Item.call(this,text,value,USECASE_TYPE);\n}\n\nvar Filter = function(){\n  this.verticals = [];\n  this.usecases = [];\n};\n\nFilter.prototype.getSelectedTagIds = function(){\n  var ids = this.verticals.map((vertical) => {\n    return vertical.value;\n  }).join(',');\n  ids += \",\";\n\n  ids += this.usecases.map((usecases) => {\n    return usecases.value;\n  }).join(',');\n  return ids;\n};\n\nFilter.prototype.getFilterItems = function(itemType){\n  return (itemType === VERTICAL_TYPE) ? this.verticals : (itemType === USECASE_TYPE) ? this.usecases : null;\n};\n\nFilter.prototype.add = function(txt,val,type){\n  var newItem;\n  if(type === VERTICAL_TYPE){\n    newItem = new VerticalItem(txt,val);\n    this.verticals.push(newItem);\n  }\n  else if(type === USECASE_TYPE){\n    newItem = new UseCaseItem(txt,val);\n    this.usecases.push(newItem);\n  }\n};\n\nFilter.prototype.remove = function(val,type){\n  var items = this.getFilterItems(type);\n  var newItems = items.filter((i) => {\n    return i.value != val;      \n  });\n\n  if(type === VERTICAL_TYPE) {\n    this.verticals = newItems;\n  }\n  else if(type === USECASE_TYPE) {\n    this.usecases = newItems;\n  }\n}\n\nFilter.prototype.createItemHtml = function(){\n  \n  if(!this.verticals.length && !this.usecases.length)\n    return \"<div class='itemBlank'>Search...</div>\";\n \n  var itemHtmls = \"\";\n  $.each(this.verticals,function(index,elem){\n    itemHtmls += `<div class='item ${VERTICAL_ITEM_CLSNAME}' onclick='filterItemClick(this)' data-value='${elem.value}'>${elem.text}</div>`;\n  });\n  $.each(this.usecases,function(index,elem){\n    itemHtmls += `<div class='item ${USECASE_ITEM_CLSNAME}' onclick='filterItemClick(this)' data-value='${elem.value}'>${elem.text}</div>`;\n  });\n  \n  return itemHtmls;\n}\n\nFilter.prototype.showList = function(){\n  $(\"#conditions\").empty();\n  $(\"#conditions\").append(this.createItemHtml());\n\n  // dynamic filter by Tags\n  //var tagIds = this.getSelectedTagIds(); \n  //$(\".stackla-widget\").attr(\"data-tags\",tagIds);\n};\n\n// main code\nvar $filter = new Filter();\nvar $widgetId;\n\n$(document).ready(function(){\n  initialize();\n\n  $('#sidebar').on('change', '.searchVerticalItem, .searchUseCaseItem', (e) => {\n    if($(e.target).hasClass(\"searchVerticalItem\")){\n      sideBarVerticalChange(e);\n    }\n    else if($(e.target).hasClass(\"searchUseCaseItem\")){\n      sideBarUsecaseChange(e);\n    }\n  });\n});\n\nfunction initialize(){\n  this.$widgetId = $(\".stackla-widget\").attr(\"data-id\");\n  $filter.showList();\n}\n\nfunction filterItemClick(e){\n  var val = $(e).data('value');\n  var type, elems;\n  \n  if($(e).hasClass(VERTICAL_ITEM_CLSNAME)){\n    type = VERTICAL_TYPE;\n    elems = $(\".searchVerticalItem\");\n  }\n  else if($(e).hasClass(USECASE_ITEM_CLSNAME)){\n    elems = $(\".searchUseCaseItem\");\n    type = USECASE_TYPE;\n  }\n \n  $filter.remove(val,type);\n\n  $.each(elems, function(idx,elem){\n    if(elem.value == val) elem.checked = !elem.checked;\n  })\n\n  $filter.showList();\n\n  // TODO\n  //StacklaFluidWidget.changeFilter(data-id, 72731);\n}\n\nfunction sideBarItemChange(e,type){\n  var val = e.target.value;\n  var txt = $(e.target).parent()[0].innerText;\n\n  ($(e.target).is(':checked')) ? $filter.add(txt,val,type) : $filter.remove(val,type);\n\n  $filter.showList();\n}\n\nfunction sideBarVerticalChange(e){\n  sideBarItemChange(e,VERTICAL_TYPE);\n}\nfunction sideBarUsecaseChange(e){\n  sideBarItemChange(e,USECASE_TYPE);\n}"]}