{"version":3,"sources":["src/script.js"],"names":["VERTICAL_TYPE","VERTICAL_ITEM_CLSNAME","USECASE_TYPE","USECASE_ITEM_CLSNAME","Item","text","value","type","VerticalItem","call","UseCaseItem","Filter","verticals","usecases","prototype","getSelectedTagIds","ids","map","vertical","join","getFilterItems","itemType","add","txt","val","newItem","push","remove","items","newItems","filter","i","createItemHtml","length","itemHtmls","$","each","index","elem","showList","empty","append","$widgetId","$filter","initialize","attr","filterItemClick","e","elems","data","hasClass","idx","checked","sideBarItemChange","target","parent","innerText","is","sideBarVerticalChange","sideBarUsecaseChange","document","ready","on"],"mappings":"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","file":"script.cc9ebf08.map","sourceRoot":"..","sourcesContent":["const VERTICAL_TYPE = \"Vertical\";\nconst VERTICAL_ITEM_CLSNAME = \"verticalItem\";\nconst USECASE_TYPE = \"UseCase\";\nconst USECASE_ITEM_CLSNAME = \"usecaseItem\";\n\n// Item class \nvar Item = function(text,value,type){\n  this.text = text;\n  this.value = value;\n  this.type = type;\n}\n\nvar VerticalItem = function(text,value) {\n  Item.call(this,text,value,VERTICAL_TYPE); \n}\nvar UseCaseItem = function(text,value){\n  Item.call(this,text,value,USECASE_TYPE);\n}\n\nvar Filter = function(){\n  this.verticals = [];\n  this.usecases = [];\n};\n\nFilter.prototype.getSelectedTagIds = function(){\n  var ids = this.verticals.map((vertical) => {\n    return vertical.value;\n  }).join(',');\n  ids += \",\";\n\n  ids += this.usecases.map((usecases) => {\n    return usecases.value;\n  }).join(',');\n  return ids;\n};\n\nFilter.prototype.getFilterItems = function(itemType){\n  return (itemType === VERTICAL_TYPE) ? this.verticals : (itemType === USECASE_TYPE) ? this.usecases : null;\n};\n\nFilter.prototype.add = function(txt,val,type){\n  var newItem;\n  if(type === VERTICAL_TYPE){\n    newItem = new VerticalItem(txt,val);\n    this.verticals.push(newItem);\n  }\n  else if(type === USECASE_TYPE){\n    newItem = new UseCaseItem(txt,val);\n    this.usecases.push(newItem);\n  }\n};\n\nFilter.prototype.remove = function(val,type){\n  var items = this.getFilterItems(type);\n  var newItems = items.filter((i) => {\n    return i.value != val;      \n  });\n\n  if(type === VERTICAL_TYPE) {\n    this.verticals = newItems;\n  }\n  else if(type === USECASE_TYPE) {\n    this.usecases = newItems;\n  }\n}\n\nFilter.prototype.createItemHtml = function(){\n  \n  if(!this.verticals.length && !this.usecases.length)\n    return \"<div class='itemBlank'>Search...</div>\";\n \n  var itemHtmls = \"\";\n  $.each(this.verticals,function(index,elem){\n    itemHtmls += `<div class='item ${VERTICAL_ITEM_CLSNAME}' onclick='filterItemClick(this)' data-value='${elem.value}'>${elem.text}</div>`;\n  });\n  $.each(this.usecases,function(index,elem){\n    itemHtmls += `<div class='item ${USECASE_ITEM_CLSNAME}' onclick='filterItemClick(this)' data-value='${elem.value}'>${elem.text}</div>`;\n  });\n  \n  return itemHtmls;\n}\n\nFilter.prototype.showList = function(){\n  $(\"#conditions\").empty();\n  $(\"#conditions\").append(this.createItemHtml());\n\n  // dynamic filter by Tags\n  //var tagIds = this.getSelectedTagIds(); \n  //$(\".stackla-widget\").attr(\"data-tags\",tagIds);\n};\n\n// main code\nvar $filter = new Filter();\nvar $widgetId;\n\n$(document).ready(function(){\n  initialize();\n\n  $('#sidebar').on('change', '.searchVerticalItem, .searchUseCaseItem', (e) => {\n    if($(e.target).hasClass(\"searchVerticalItem\")){\n      sideBarVerticalChange(e);\n    }\n    else if($(e.target).hasClass(\"searchUseCaseItem\")){\n      sideBarUsecaseChange(e);\n    }\n  });\n});\n\nfunction initialize(){\n  this.$widgetId = $(\".stackla-widget\").attr(\"data-id\");\n  $filter.showList();\n}\n\nfunction filterItemClick(e){\n  var val = $(e).data('value');\n  var type, elems;\n  \n  if($(e).hasClass(VERTICAL_ITEM_CLSNAME)){\n    type = VERTICAL_TYPE;\n    elems = $(\".searchVerticalItem\");\n  }\n  else if($(e).hasClass(USECASE_ITEM_CLSNAME)){\n    elems = $(\".searchUseCaseItem\");\n    type = USECASE_TYPE;\n  }\n \n  $filter.remove(val,type);\n\n  $.each(elems, function(idx,elem){\n    if(elem.value == val) elem.checked = !elem.checked;\n  })\n\n  $filter.showList();\n\n  // TODO\n  //StacklaFluidWidget.changeFilter(data-id, 72731);\n}\n\nfunction sideBarItemChange(e,type){\n  var val = e.target.value;\n  var txt = $(e.target).parent()[0].innerText;\n\n  ($(e.target).is(':checked')) ? $filter.add(txt,val,type) : $filter.remove(val,type);\n\n  $filter.showList();\n}\n\nfunction sideBarVerticalChange(e){\n  sideBarItemChange(e,VERTICAL_TYPE);\n}\nfunction sideBarUsecaseChange(e){\n  sideBarItemChange(e,USECASE_TYPE);\n}"]}